import base64
import os
from ptrlib import *

HOST = os.getenv("HOST", "localhost")
PORT = os.getenv("PORT", "10777")

ans = "100000000000000000000000000100000000000000000000010000000000000000000000000010000000000000000000001000000000000000000000000000000000000010000000000000000000000000000100000000000000000001000000000001000000000000000000000000000000001000000000000000100000000000000000000000000000000000100000000000000000000000001000000000010000000000000000000000000000000000000001000000000000000000010000000000000000000000000010000000001000000000000000000000000010000000000000000000000000100000000000000000000000000100000000000000000100000000000000000000000001000000000000000000000000010000000000" # example solution of 24-queen

key = b''
for i in range(24):
    for j in range(3):
        c = 0
        for k in range(8):
            c |= int(ans[0]) << k
            ans = ans[1:]
        key += bytes([c])

sock = Socket(HOST, int(PORT))
sock.sendlineafter(": ", base64.b64encode(key))
print(sock.recvlineafter(": "))
sock.close()
