(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{9474:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/[id]",function(){return n(4837)}])},5870:function(r,e,n){"use strict";var t=n(5893),o=n(5079),i=n(4115),s=n(8529);function a(r,e){if(null==r)return{};var n,t,o=function(r,e){if(null==r)return{};var n,t,o={},i=Object.keys(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||(o[n]=r[n]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}e.Z=function(r){var e=r.tags;a(r,["tags"]);return(0,t.jsx)(o.Ug,{children:e.map((function(r){return(0,t.jsxs)(i.x,{sx:{borderColor:s.iQ,borderWidth:"1px",borderStyle:"thick",paddingLeft:1,paddingRight:1,borderRadius:"4px"},children:[r," "]},r)}))})}},3484:function(r,e,n){"use strict";n.d(e,{Z:function(){return g}});var t=n(5893),o=n(8017),i=n(5079),s=n(4115),a=n(3719),u=n(9444),c=n(58),l=n(7341),f=n(1436),d=n(2814),h=n(1163),x=n(8529),p=n(5870);function v(r,e){if(null==r)return{};var n,t,o=function(r,e){if(null==r)return{};var n,t,o={},i=Object.keys(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||(o[n]=r[n]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}var m=function(r){var e=r.task,n=r.isSolved,o=(v(r,["task","isSolved"]),(0,h.useRouter)());return(0,t.jsx)(u.r,{onClick:function(){o.push("/tasks/"+e.id,void 0,{scroll:!1,shallow:!0})},sx:{borderWidth:"2px",borderColor:"white",borderRadius:"4px",p:4,width:"200px",height:"calc(200px / 4 * 3)",filter:n?"brightness(0.7)":"none","&:hover":{textDecoration:"none",borderColor:x.iQ,cursor:"pointer"}},children:(0,t.jsxs)(i.Kq,{children:[(0,t.jsxs)(s.x,{fontSize:"xl",children:[n&&(0,t.jsx)(c.J,{as:d.G,icon:f.LEp,sx:{color:"#00ff00",fontSize:"1em"}})," ",e.name]}),(0,t.jsx)(l.L,{}),(0,t.jsxs)(s.x,{children:[e.score," points / ",e.solved_by.length," solves"]}),(0,t.jsx)(p.Z,{tags:e.tags})]})})},j=n(6486),b=function(r,e){return!(!r||!e)&&e.solved_by.filter((function(e){return e.team_id===Number(r.team_id)})).length>0},g=function(r){var e=r.tasks,n=r.team,u=(0,j.sortedUniq)((0,j.sortBy)(e.map((function(r){return r.category})))),c=(0,j.groupBy)((0,j.orderBy)(e,[function(r){return r.score},function(r){return r.solved_by.length}],["asc","desc"]),(function(r){return r.category}));return(0,t.jsx)(o.xu,{mt:"10",children:u.map((function(r){return(0,t.jsxs)(i.Kq,{mb:4,children:[(0,t.jsx)(s.x,{fontSize:"3xl",children:r}),(0,t.jsx)(a.E,{pl:8,children:c[r].map((function(r){return(0,t.jsx)(a.U,{children:(0,t.jsx)(m,{task:r,isSolved:null!==n&&b(n,r)})},r.id)}))})]},r)}))})}},4837:function(r,e,n){"use strict";n.r(e),n.d(e,{default:function(){return K},getStathcPaths:function(){return R}});var t=n(5666),o=n.n(t),i=n(5893),s=n(4126),a=n(9268),u=n(5079),c=n(4115),l=n(4096),f=n(8017),d=n(5528),h=n(7812),x=n(7389),p=n(1436),v=n(2814),m=n(980),j=n(9669),b=n.n(j),g=function(){var r=(0,m.useToast)();return{error:function(e){var n,t=null===(n=e.data)||void 0===n?void 0:n.message;if(t)r({description:t,status:"error",duration:2e3,isClosable:!0});else if(b().isAxiosError(e)){var o,i=null===(o=e.response)||void 0===o?void 0:o.data;r({description:i.message||JSON.stringify(e.message),status:"error",duration:2e3,isClosable:!0})}},message:function(e){var n=e.data.message;n&&r({description:n,status:"info",duration:2e3,isClosable:!0})}}},y=n(2283),O=n(6106),w=n(8529),k=(0,m.chakra)(l.k,{baseStyle:{flexDirection:"row-reverse",w:"100%"}}),S=n(5870);function _(r,e,n,t,o,i,s){try{var a=r[i](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(t,o)}function P(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function C(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),t.forEach((function(e){P(r,e,n[e])}))}return r}function E(r,e){if(null==r)return{};var n,t,o=function(r,e){if(null==r)return{};var n,t,o={},i=Object.keys(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||(o[n]=r[n]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}function Z(r){return function(r){if(Array.isArray(r)){for(var e=0,n=new Array(r.length);e<r.length;e++)n[e]=r[e];return n}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var q=function(r){var e,n=r.task,t=(E(r,["task"]),(0,y.cI)()),s=t.register,a=t.handleSubmit,m=((0,O.Z)().mutate,g()),j=(m.message,m.error,e=o().mark((function r(e){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case 1:case"end":return r.stop()}}),r)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(r){_(i,t,o,s,a,"next",r)}function a(r){_(i,t,o,s,a,"throw",r)}s(void 0)}))});return(0,i.jsxs)(u.Kq,{spacing:1,color:w.Um,children:[(0,i.jsxs)(c.x,{fontSize:"xl",children:[n.name," - ",n.score]}),(0,i.jsxs)(l.k,{children:[(0,i.jsxs)(u.Kq,{w:"70%",pl:1,spacing:1,children:[(0,i.jsx)(S.Z,{tags:[n.category].concat(Z(n.tags))}),(0,i.jsx)(f.xu,{sx:{a:{textDecoration:"underline",textDecorationColor:w.iQ,textDecorationThickness:"0.1em"},"a:focus":{outline:"none"}},dangerouslySetInnerHTML:{__html:n.description}}),(0,i.jsx)(u.Ug,{minH:"4em",children:n.attachments.map((function(r){return(0,i.jsx)("a",{href:r.url,download:!0,children:(0,i.jsxs)(d.Vp,{variant:"outline",maxW:"10em",children:[(0,i.jsx)(v.G,{icon:p.q7m}),(0,i.jsx)(d.Sn,{isTruncated:!0,children:r.name})]})},r.url)}))}),n.author&&(0,i.jsxs)(k,{children:["author: ",n.author]}),(0,i.jsxs)(u.Ug,{children:[(0,i.jsx)(h.I,C({id:"flag",placeholder:"Neko{...}",variant:"flushed"},s("flag",{required:!0}))),(0,i.jsx)(x.z,{onClick:a(j),children:"Submit"})]})]}),(0,i.jsx)(f.xu,{w:"30%",pl:1,sx:{overflowY:"auto"},children:(0,i.jsxs)(u.Kq,{spacing:1,h:"0",children:[(0,i.jsxs)(c.x,{size:"lg",children:[n.solved_by.length,"solves"]}),(0,i.jsx)(f.xu,{children:n.solved_by.map((function(r){return(0,i.jsx)(c.x,{fontSize:"sm",children:r.team_name},r.team_name)}))})]})})]})]})},z=n(1163),N=n(9069),A=n(3484),I=n(7720),T=function(r){var e=r.endsWith("/")?r.slice(0,-1):r,n=e.split("/");return 1===n.length?e:n.slice(0,-1).join("/")};function D(r,e,n,t,o,i,s){try{var a=r[i](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(t,o)}var U,K=function(){var r=(0,z.useRouter)(),e=r.query.id,n=(0,s.q)().onClose,t=(0,O.Z)().data,o=(0,I.Z)().data;if(!t||void 0===o)return(0,i.jsx)(N.Z,{});var u=t.filter((function(r){return r.id===Number(e)}));if(1!==u.length)return(0,i.jsx)(N.Z,{});var c=u[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.Z,{tasks:t,team:o}),(0,i.jsxs)(a.u_,{isOpen:!0,onClose:function(){n(),r.push(T(r.route),void 0,{scroll:!1,shallow:!0})},size:"xl",children:[(0,i.jsx)(a.ZA,{}),(0,i.jsx)(a.hz,{children:(0,i.jsx)(a.fe,{children:(0,i.jsx)(q,{task:c})})})]})]})},R=(U=o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return[61275121,175516696,414358294,472626810,742936355,1356482943,1806181470,1808665617,1864208894,1869996516,1911909652,2057125610,2371015041,2415905059,2743599748,3052303659,3185466810,3224520613,3359320973,3443755021,3817990360,3902500811,3950178220].map((function(r){return{params:{id:r}}})),r.abrupt("return",{fallback:!1});case 3:case"end":return r.stop()}}),r)})),function(){var r=this,e=arguments;return new Promise((function(n,t){var o=U.apply(r,e);function i(r){D(o,n,t,i,s,"next",r)}function s(r){D(o,n,t,i,s,"throw",r)}i(void 0)}))})}},function(r){r.O(0,[662,349,106,774,888,179],(function(){return e=9474,r(r.s=e);var e}));var e=r.O();_N_E=e}]);